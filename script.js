const profile = {
  name: "Aung Zay Myo",
  role: "Information Security Engineer",
  location: "Yangon, Myanmar",
  focus: "SecOps • Incident Response • Hardening",
  linkedin: "https://www.linkedin.com/in/aung-zay-myo/",
  resumeUrl: "#", // TODO: put your resume PDF link (e.g., "assets/AungZayMyo-Resume.pdf") or Google Drive public link
  heroKicker: "Information Security Engineer",
  heroSubtitle: "Focused on security operations, incident response, and practical hardening.",
  about: [
    "My dreams? Wanna be part of, National Security Defense Operations, Advanced Computer Security Training, Expert in System Design Security Patterns, and contributing to the security community through open source projects and knowledge sharing.",
    "Why? Lower digital skills in Country like Myanmar and has critical infrastructure that needs better security controls, digital commmand center, and awareness." 
 
  ],
  strengths: [
    "Project Management and Cross-team Collaboration",
    "Security Policy Deployment and Management",
    "Web Application Firewall Design",
    "Endpoint Security Architecture",
    "Documentation: SOPs Manual, post-incident reports"
  ],
  // Certifications (edit these to match your real credentials)
  certifications: [
    {
      title: "Science and Technology Track - Cloud, Machine Learning, & Security Academy",
      issuer: "US-ASEAN Center",
      issued: "Dec 2025",
      credentialId: "RB2I82T-QVOfCNvE_pFT4A",
      credentialUrl: "#",
      skills: ["Security fundamentals", "Risk management", "Governance basics"],
      logo: "gallery/us-asean.png",
      image: "gallery/stt.png",
      fileLabel: "US-ASEAN-STT"
    },
    {
      title: "AWS Certified Cloud Practitioner",
      issuer: "Amazon Web Services",
      issued: "Dec 2025",
      credentialId: "RB2I82T-QVOfCNvE_pFT4A",
      credentialUrl: "#",
      skills: ["Security fundamentals", "Risk management", "Governance basics"],
      logo: "gallery/aws.png",
      image: "gallery/ccp.png",
      fileLabel: "AWS-CCP"
    },
    {
      title: "ISC2 Certified in CyberSecurity",
      issuer: "ISC2",
      issued: "Dec 2025",
      credentialId: "RB2I82T-QVOfCNvE_pFT4A",
      credentialUrl: "#",
      skills: ["Security fundamentals", "Risk management", "Governance basics"],
      logo: "gallery/isc2.png",
      image: "gallery/cc.png",
      fileLabel: "ISC2-CC"
    },
    {
      title: "Security Operations Analyst Associate",
      issuer: "Microsoft",
      issued: "Aug 2025",
      expires: "Aug 2028",
      credentialId: "09a833d6-1dd4-4e10-859a-384889c0c4c4",
      credentialUrl: "#",
      skills: ["Security operations", "Threat hunting", "Incident response"],
      logo: "gallery/microsoft.png",
      image: "gallery/sc-200.png",
      fileLabel: "SC-200"
    },
    {
      title: "Information Security Administrator Associate",
      issuer: "Microsoft",
      issued: "Aug 2025",
      expires: "Aug 2028",
      credentialId: "09a833d6-1dd4-4e10-859a-384889c0c4c4",
      credentialUrl: "#",
      skills: ["Security operations", "Threat hunting", "Incident response"],
      logo: "gallery/microsoft.png",
      image: "gallery/sc-401.png",
      fileLabel: "SC-401"
    },
    {
      title: "Trend Micro Vision One XDR advanced Certification ",
      issuer: "TrendAI",
      issued: "May 2024",
      credentialId: "NSE3-0000-0000",
      credentialUrl: "#",
      skills: ["Network security", "Firewalls", "Security controls"],
      logo: "gallery/trendai.png",
      image: "gallery/v1.png",
      fileLabel: "TrendAI-V1"
    },
    {
      title: "Network Security Expert Level 3: Certified Associate",
      issuer: "Fortinet",
      issued: "May 2024",
      credentialId: "NSE3-0000-0000",
      credentialUrl: "#",
      skills: ["Network security", "Firewalls", "Security controls"],
      logo: "gallery/fortinet.png",
      image: "gallery/fca.png",
      fileLabel: "NSE3"
    },
    {
      title: "Foundation Level Threat Intelligence Analyst",
      issuer: "Arcx",
      issued: "May 2024",
      credentialId: "NSE3-0000-0000",
      credentialUrl: "#",
      skills: ["Network security", "Firewalls", "Security controls"],
      logo: "gallery/arcx.png",
      image: "gallery/ftia.png",
      fileLabel: "FTIA"
    }
  ],
  experience: [
    {
      title: "Information Security Engineer",
      org: "Telecom International Myanmar",
      type: "Full-time",
      dates: "Oct 2025 - Present",
      location: "Yangon, Myanmar - On-site",
      bullets: [
        "Implement multi-factor authentication and password protection.",
        "Configure system proxy and domain filtering.",
        "Configure SSL/TLS security (Offload, Bridging, Passthrough).",
        "Implement and manage domain name system.",
        "Deploy and configure web application firewall.",
        "Apply security controls in CI/CD and DevOps pipeline.",
        "Administer privilege access management system.",
        "Manage enterprise VPN services.",
        "Manage email gateway and mail services (IMAP, POP3, SMTP).",
        "SIEM and network access control monitoring.",
        "Endpoint detection and response (EDR) and antivirus.",
        "Private cloud operation (OpenStack).",
        "Documentation (JIRA, Confluence, MOP, CR)."
      ],
      logo: "gallery/mytel.png"
    },
    {
      title: "System Engineer",
      org: "ATG Systems",
      type: "Full-time",
      dates: "Nov 2024 - Oct 2025 - 1 yr",
      location: "Yangon, Myanmar - On-site",
      bullets: [
        "Develop method of procedure (MOP).",
        "Low level design documents (LLDs).",
        "User acceptance testing (UAT) and project build documents.",
        "Virtualization platforms (VMware ESXi, vCenter).",
        "Compute optimized servers (Dell, HPE ProLiant, Cisco UCS).",
        "Server hardware components (DIMM RAM, SSD/HDD).",
        "Endpoint security (Trend Micro, Palo Alto Cortex XDR, CyberArk).",
        "Security (IPS, web filtering, app/device control, SSL).",
        "Protocols and services (NFS, SMB, DNS, DHCP, ISCSI, FC).",
        "Products license management.",
        "Vendor and ticket management (support case, customer issue, remote or onsite support).",
        "Provide administration training on customers."
      ],
      logo: "gallery/atgs.png"
    },
    {
      title: "IT Technician",
      org: "M.S.T University",
      type: "Full-time",
      dates: "Dec 2023 - May 2024 - 6 mos",
      location: "Yangon, Myanmar - On-site",
      bullets: [
        "Hardware installation (motherboard, power supply, PATA/SATA, S/DRAM, PCIe).",
        "Windows installation (7, 10, 11, Server 2008, 2012, 2016).",
        "Install software update and driver update.",
        "Software installation (Office, VS Code, MySQL, etc).",
        "Network cabling and RJ45 ports (Straight, Crossover, CAT5, CAT5e).",
        "Campus networking (LAN, WiFi, PoE, AP, Switch)."
      ],
      logo: "gallery/mst.png"
    }
  ],
  education: [
    {
      school: "University of Greenwich",
      program: "BSc (Hons) Computer Science",
      dates: "Jan 2022 - Jul 2025",
      grade: "First Class Honours",
      logo: "gallery/ug.png",
    },
    {
      school: "Microsoft Learn",
      program: "Student SOC Program Foundations",
      dates: "May 2025 - June 2025",
      summary:
        "Training on Microsoft Security Copilot, Defender XDR, Microsoft Sentinel, and security fundamentals.",
      logo: "gallery/microsoft.png",
      fileLabel: "Certificate_of_completion.pdf",
      filePreview: "gallery/soc.png"
    }
  ],
  projects: [
    {
      title: "Phishing Simulation Reporting Template",
      description: "A concise report format for management: objectives, scope, results, and next actions.",
      links: [
        { label: "GitHub", url: "#" }
      ],
      tags: ["Awareness", "Reporting", "Security Ops"]
    },
    {
      title: "DNS / Domain Investigation Scripts",
      description: "Scripts to resolve domains, export results to CSV, and extract domains from email fields.",
      links: [
        { label: "GitHub", url: "#" }
      ],
      tags: ["PowerShell", "Automation", "IR"]
    },
    {
      title: "Hardening Quick Checks",
      description: "Checklist-style scripts to reduce incident impact on endpoints.",
      links: [
        { label: "GitHub", url: "#" }
      ],
      tags: ["Windows", "Baseline", "Defense"]
    }
  ],
  contacts: [
    { label: "LinkedIn", value: "aung-zay-myo", url: "https://www.linkedin.com/in/aung-zay-myo/" },
    { label: "GitHub", value: "your-username", url: "https://github.com/aungzaymyo-rude/" },
    { label: "Email", value: "aungzaymyo.cs@gmail.com", url: "mailto:aungzaymyo.cs@gmail.com" }
  ]
};

// --------- Render helpers ----------
const $ = (id) => document.getElementById(id);

function setText(id, text) {
  const el = $(id);
  if (el) el.textContent = text;
}

function setHref(id, href) {
  const el = $(id);
  if (el) el.href = href;
}

function makeBadge(text) {
  const span = document.createElement("span");
  span.className = "badge";
  span.textContent = text;
  return span;
}

function makeCardItem({ title, note, description, tags, links }) {
  const div = document.createElement("div");
  div.className = "card-item";
  const h = document.createElement("h3");
  h.textContent = title;
  div.appendChild(h);

  const p = document.createElement("p");
  p.textContent = note || description || "";
  div.appendChild(p);

  if (links && links.length) {
    const linkRow = document.createElement("p");
    linkRow.style.marginTop = "10px";
    links.forEach((l, i) => {
      const a = document.createElement("a");
      a.href = l.url;
      a.target = "_blank";
      a.rel = "noreferrer";
      a.textContent = l.label;
      a.style.fontWeight = "800";
      a.style.marginRight = i === links.length - 1 ? "0" : "12px";
      linkRow.appendChild(a);
    });
    div.appendChild(linkRow);
  }

  if (tags && tags.length) {
    const chips = document.createElement("div");
    chips.className = "chips";
    tags.forEach((t) => {
      const c = document.createElement("span");
      c.className = "chip";
      c.textContent = t;
      chips.appendChild(c);
    });
    div.appendChild(chips);
  }
  return div;
}

function makeCertItem(cert) {
  const card = document.createElement("div");
  card.className = "cert-card";

  const head = document.createElement("div");
  head.className = "cert-head";

  const left = document.createElement("div");
  left.className = "cert-left";

  const logo = document.createElement("div");
  logo.className = "cert-logo";
  if (cert.logo) {
    const img = document.createElement("img");
    img.src = cert.logo;
    img.alt = `${cert.title} logo`;
    img.loading = "lazy";
    logo.appendChild(img);
  } else {
    const text = document.createElement("span");
    text.textContent = (cert.title || "").slice(0, 3).toUpperCase();
    logo.appendChild(text);
  }

  const body = document.createElement("div");
  body.className = "cert-body";

  const title = document.createElement("div");
  title.className = "cert-title";
  title.textContent = cert.title || "Certification";
  body.appendChild(title);

  if (cert.issuer) {
    const issuer = document.createElement("div");
    issuer.className = "cert-issuer";
    issuer.textContent = cert.issuer;
    body.appendChild(issuer);
  }

  if (cert.issued || cert.expires) {
    const when = document.createElement("div");
    when.className = "cert-meta";
    when.textContent = cert.expires ? `Issued ${cert.issued} - Expires ${cert.expires}` : `Issued ${cert.issued}`;
    body.appendChild(when);
  }

  if (cert.credentialId) {
    const cid = document.createElement("div");
    cid.className = "cert-meta";
    cid.textContent = `Credential ID ${cert.credentialId}`;
    body.appendChild(cid);
  }

  left.appendChild(logo);
  left.appendChild(body);

  const actions = document.createElement("div");
  actions.className = "cert-actions";
  if (cert.credentialUrl) {
    const a = document.createElement("a");
    a.className = "btn ghost small cert-link";
    a.href = cert.credentialUrl;
    a.target = "_blank";
    a.rel = "noreferrer";
    a.innerHTML = `Show credential <span class="icon" aria-hidden="true">-&gt;</span>`;
    actions.appendChild(a);
  }

  head.appendChild(left);
  head.appendChild(actions);
  card.appendChild(head);

  if (cert.skills && cert.skills.length) {
    const skills = document.createElement("div");
    skills.className = "cert-skills";
    const label = document.createElement("span");
    label.className = "cert-label";
    label.textContent = "Skills:";
    const values = document.createElement("span");
    values.textContent = ` ${cert.skills.join(" | ")}`;
    skills.appendChild(label);
    skills.appendChild(values);
    card.appendChild(skills);
  }

  if (cert.image) {
    const asset = document.createElement("div");
    asset.className = "cert-asset";
    const img = document.createElement("img");
    img.src = cert.image;
    img.alt = cert.title ? `${cert.title} credential` : "Certification credential";
    img.loading = "lazy";
    asset.appendChild(img);

    const file = document.createElement("div");
    file.className = "cert-file";
    file.textContent = cert.fileLabel || "Credential.png";
    asset.appendChild(file);
    card.appendChild(asset);
  }

  return card;
}


function makeExperienceItem(item) {
  const card = document.createElement("div");
  card.className = "exp-card";

  const head = document.createElement("div");
  head.className = "exp-head";

  const left = document.createElement("div");
  left.className = "exp-left";

  const logo = document.createElement("div");
  logo.className = "exp-logo";
  if (item.logo) {
    const img = document.createElement("img");
    img.src = item.logo;
    img.alt = `${item.org} logo`;
    img.loading = "lazy";
    logo.appendChild(img);
  } else {
    const text = document.createElement("span");
    text.textContent = (item.org || "").slice(0, 2).toUpperCase();
    logo.appendChild(text);
  }

  const body = document.createElement("div");
  body.className = "exp-body";

  const title = document.createElement("div");
  title.className = "exp-title";
  title.textContent = item.title || "Role";
  body.appendChild(title);

  const orgRow = document.createElement("div");
  orgRow.className = "exp-org";
  orgRow.textContent = item.org || "Company";
  if (item.type) {
    const type = document.createElement("span");
    type.className = "exp-type";
    type.textContent = ` - ${item.type}`;
    orgRow.appendChild(type);
  }
  body.appendChild(orgRow);

  if (item.dates) {
    const dates = document.createElement("div");
    dates.className = "exp-meta";
    dates.textContent = item.dates;
    body.appendChild(dates);
  }

  if (item.location) {
    const loc = document.createElement("div");
    loc.className = "exp-meta";
    loc.textContent = item.location;
    body.appendChild(loc);
  }

  if (item.note) {
    const note = document.createElement("div");
    note.className = "exp-note";
    note.textContent = item.note;
    body.appendChild(note);
  }

  left.appendChild(logo);
  left.appendChild(body);
  head.appendChild(left);
  card.appendChild(head);

  if (item.bullets && item.bullets.length) {
    const ul = document.createElement("ul");
    ul.className = "exp-bullets";
    item.bullets.forEach((b) => {
      const li = document.createElement("li");
      li.textContent = b;
      ul.appendChild(li);
    });
    card.appendChild(ul);
  }

  if (item.media) {
    const media = document.createElement("div");
    media.className = "exp-media";
    if (item.media.image) {
      const img = document.createElement("img");
      img.src = item.media.image;
      img.alt = item.media.label || "Experience media";
      img.loading = "lazy";
      media.appendChild(img);
    }
    if (item.media.label) {
      const label = document.createElement("div");
      label.className = "exp-media-label";
      label.textContent = item.media.label;
      media.appendChild(label);
    }
    card.appendChild(media);
  }

  if (item.tags && item.tags.length) {
    const tags = document.createElement("div");
    tags.className = "exp-tags";
    tags.textContent = item.tags.join(" | ");
    card.appendChild(tags);
  }

  return card;
}

function makeEducationItem(item) {
  const card = document.createElement("div");
  card.className = "edu-card";

  const head = document.createElement("div");
  head.className = "edu-head";

  const left = document.createElement("div");
  left.className = "edu-left";

  const logo = document.createElement("div");
  logo.className = "edu-logo";
  if (item.logo) {
    const img = document.createElement("img");
    img.src = item.logo;
    img.alt = `${item.school} logo`;
    img.loading = "lazy";
    logo.appendChild(img);
  } else {
    const text = document.createElement("span");
    text.textContent = (item.school || "").slice(0, 2).toUpperCase();
    logo.appendChild(text);
  }

  const body = document.createElement("div");
  body.className = "edu-body";

  const school = document.createElement("div");
  school.className = "edu-school";
  school.textContent = item.school || "Education";
  body.appendChild(school);

  if (item.program) {
    const program = document.createElement("div");
    program.className = "edu-program";
    program.textContent = item.program;
    body.appendChild(program);
  }

  if (item.dates) {
    const dates = document.createElement("div");
    dates.className = "edu-meta";
    dates.textContent = item.dates;
    body.appendChild(dates);
  }

  if (item.grade) {
    const grade = document.createElement("div");
    grade.className = "edu-meta";
    grade.textContent = `Grade: ${item.grade}`;
    body.appendChild(grade);
  }

  left.appendChild(logo);
  left.appendChild(body);
  head.appendChild(left);
  card.appendChild(head);

  if (item.summary) {
    const summary = document.createElement("p");
    summary.className = "edu-summary";
    summary.textContent = item.summary;
    card.appendChild(summary);
  }

  if (item.bullets && item.bullets.length) {
    const ul = document.createElement("ul");
    ul.className = "edu-bullets";
    item.bullets.forEach((b) => {
      const li = document.createElement("li");
      li.textContent = b;
      ul.appendChild(li);
    });
    card.appendChild(ul);
  }

  if (item.tags && item.tags.length) {
    const tags = document.createElement("div");
    tags.className = "edu-tags";
    tags.textContent = item.tags.join(" | ");
    card.appendChild(tags);
  }

  if (item.filePreview) {
    const asset = document.createElement("div");
    asset.className = "edu-asset";
    const img = document.createElement("img");
    img.src = item.filePreview;
    img.alt = item.fileLabel || "Education document";
    img.loading = "lazy";
    asset.appendChild(img);
    const label = document.createElement("div");
    label.className = "edu-file";
    label.textContent = item.fileLabel || "Document.pdf";
    asset.appendChild(label);
    card.appendChild(asset);
  }

  return card;
}

// --------- Theme ----------
function applyTheme(theme) {
  document.documentElement.setAttribute("data-theme", theme);
  localStorage.setItem("theme", theme);
}

function toggleTheme() {
  const cur = document.documentElement.getAttribute("data-theme") || "dark";
  applyTheme(cur === "dark" ? "light" : "dark");
}

// --------- Mobile menu ----------
function toggleMenu() {
  const menu = $("mobileMenu");
  if (!menu) return;
  const isHidden = menu.hasAttribute("hidden");
  if (isHidden) menu.removeAttribute("hidden");
  else menu.setAttribute("hidden", "");
}

// --------- Render page ----------
function render() {
  setText("year", String(new Date().getFullYear()));
  setText("footerName", profile.name);

  setText("heroKicker", profile.heroKicker);
  setText("heroSubtitle", profile.heroSubtitle);

  setText("cardName", profile.name);
  setText("cardRole", profile.role);
  setText("cardLocation", profile.location);
  setText("cardFocus", profile.focus);

  setHref("linkedinBtn", profile.linkedin);
  setHref("resumeBtn", profile.resumeUrl);
  setHref("resumeBtnMobile", profile.resumeUrl);

  const badges = $("badges");
  if (badges) {
    badges.innerHTML = "";
    [profile.role, ...profile.certifications.map(c => c.title)].slice(0, 6).forEach(b => {
      badges.appendChild(makeBadge(b));
    });
  }

  const aboutPanel = $("aboutPanel");
  if (aboutPanel) {
    aboutPanel.innerHTML = "";
    profile.about.forEach((para) => {
      const p = document.createElement("p");
      p.textContent = para;
      aboutPanel.appendChild(p);
    });
  }

  const strengths = $("strengths");
  if (strengths) {
    strengths.innerHTML = "";
    profile.strengths.forEach((s) => {
      const li = document.createElement("li");
      li.textContent = s;
      strengths.appendChild(li);
    });
  }

  const certCards = $("certCards");
  if (certCards) {
    certCards.innerHTML = "";
    profile.certifications.forEach((c) => {
      certCards.appendChild(makeCertItem(c));
    });
  }

  const tl = $("experienceTimeline");
  if (tl) {
    tl.innerHTML = "";
    profile.experience.forEach((e) => tl.appendChild(makeExperienceItem(e)));
  }

  const edu = $("educationList");
  if (edu) {
    edu.innerHTML = "";
    profile.education.forEach((e) => edu.appendChild(makeEducationItem(e)));
  }

  const projectCards = $("projectCards");
  if (projectCards) {
    projectCards.innerHTML = "";
    profile.projects.forEach((p) => {
      projectCards.appendChild(makeCardItem({
        title: p.title,
        description: p.description,
        tags: p.tags,
        links: p.links
      }));
    });
  }

  const contactLinks = $("contactLinks");
  if (contactLinks) {
    contactLinks.innerHTML = "";
    const iconFor = (label) => {
      const key = String(label || "").toLowerCase();
      if (key.includes("linkedin")) return "in";
      if (key.includes("github")) return "gh";
      if (key.includes("instagram")) return "ig";
      if (key.includes("twitter") || key === "x") return "x";
      if (key.includes("email")) return "@";
      return key.slice(0, 2) || "->";
    };
    profile.contacts.forEach((c) => {
      const a = document.createElement("a");
      a.className = "contact-icon";
      a.href = c.url;
      a.target = c.url.startsWith("mailto:") ? "_self" : "_blank";
      a.rel = c.url.startsWith("mailto:") ? "" : "noreferrer";
      a.title = `${c.label}: ${c.value}`;
      a.setAttribute("aria-label", c.label);
      a.textContent = iconFor(c.label);
      contactLinks.appendChild(a);
    });
  }

  const contactEmail = $("contactEmail");
  if (contactEmail) {
    const emailContact = profile.contacts.find(c => c.label.toLowerCase() === "email");
    const emailValue = emailContact?.value || "you@example.com";
    contactEmail.textContent = emailValue;
    contactEmail.href = emailContact?.url || `mailto:${emailValue}`;
  }

  $("themeBtn")?.addEventListener("click", toggleTheme);
  $("themeBtnMobile")?.addEventListener("click", toggleTheme);
  $("menuBtn")?.addEventListener("click", toggleMenu);

  document.querySelectorAll("#mobileMenu a").forEach((a) => {
    a.addEventListener("click", () => $("mobileMenu")?.setAttribute("hidden", ""));
  });
}

const savedTheme = localStorage.getItem("theme");
applyTheme(savedTheme || "dark");

render();
